{
    "version": "0.3.2",
    "name":"virtualshock-isa",
    "description": "Instruction Set Architecture and rtl mapping for VirtualShock DLX",
    "author": "Gregorio Monari",
    "data":{
        "add":{
            "type":"register",
            "copBytes":"000000"
        },
        "sub":{
            "type":"register",
            "copBytes":"000001"
        },
        "and":{
            "type":"register",
            "copBytes":"000101"
        },
        "or":{
            "type":"register",
            "copBytes":"000110"
        },
        "addi":{
            "type":"immediate",
            "copBytes":"001010"
        },
        "subi":{
            "type":"immediate",
            "copBytes":"001011"
        },



        "sw":{
            "type":"immediate",
            "copBytes":"010100",
            "fields":["cost(rs1)","rs2"]
        },
        "lw":{
            "type":"immediate",
            "copBytes":"010101",
            "fields":["rs2","cost(rs1)"]
        },


        "jr":{
            "type":"register",
            "copBytes":"010011"
        },
        "j":{
            "type":"jump",
            "copBytes":"010100",
            "fields":["cost"]
        },


        "beqz": {
            "type":"immediate",
            "copBytes":"011010",
            "fields":["r0","rs1","cost"]
        },
        "bneqz": {
            "type":"immediate",
            "copBytes":"011011",
            "fields":["r0","rs1","cost"]
        },


        "seq":{
            "type":"register",
            "copBytes":"011100"
        },
        

        "push":{
            "type":"immediate",
            "copBytes":"101000",
            "fields":["rs2","r30","0"]
        },
        "pop":{
            "type":"immediate",
            "copBytes":"101001",
            "fields":["rs2","r30","0"]
        },


        "print":{
            "type":"register",
            "copBytes":"111110",
            "fields":["r0","rs1","r0"]
        },
        "halt":{
            "type":"register",
            "copBytes":"111111",
            "fields":["r0","r0","r0"]
        }
    },
    "rtl":{
        "alu": {
            "+": [4],
            "-": [4,3,0],
            "+1": [4,3,1]
    
        },
        "registers": {
            "a": {"oe2": 7,"oe1": 6,"wr": 5},
            "b": {"oe2": 10,"oe1": 9,"wr": 8},
            "c": {"oe2": 13,"oe1": 12,"wr": 11},
            "pc": {"oe2": 16,"oe1": 15,"wr": 14},
            "temp": {"oe2": 19,"oe1": 18,"wr": 17},
            "iar": {"oe2": 22,"oe1": 21,"wr": 20},
            "mar": {"oe2": 25,"oe1": 24,"wr": 23},
            "mdr": {"oe2": 28,"oe1": 27,"wr": 26},
            "ir": {"wr": 49}
        },
        "datapath":{
            "md": 29,
            "ma": 30,
            "ris": 31,
            "cost": 38,
            "wr": 39,
            "rd2": 40,
            "rd1": 41,
            "rs2_as_dest": 50
        },
        "memory":{
            "memrd": 34,
            "memwr": 35,
            "iord": 36,
            "iowr": 37
        }
    }
}